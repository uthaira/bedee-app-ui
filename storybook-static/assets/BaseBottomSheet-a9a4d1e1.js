import{_ as H,j as h,a as v,F as J}from"./styled-42a03f3b.js";import{r as m}from"./index-8b3efc3f.js";import{C as M}from"./CloseIcon-3b4c15b6.js";import{B as y}from"./Box-8279020a.js";import{_ as E}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-7ec6486c.js";import{u as D}from"./useTheme-3af89c05.js";import{o as L,T as G,d as K,r as Q,g as V}from"./utils-9156a3c6.js";import{u as U}from"./ButtonBase-9b2420d0.js";import{I as Z}from"./IconButton-59debbc7.js";const ee=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function te(r,o,c){const t=o.getBoundingClientRect(),n=c&&c.getBoundingClientRect(),p=L(o);let a;if(o.fakeTransform)a=o.fakeTransform;else{const l=p.getComputedStyle(o);a=l.getPropertyValue("-webkit-transform")||l.getPropertyValue("transform")}let i=0,d=0;if(a&&a!=="none"&&typeof a=="string"){const l=a.split("(")[1].split(")")[0].split(",");i=parseInt(l[4],10),d=parseInt(l[5],10)}return r==="left"?n?`translateX(${n.right+i-t.left}px)`:`translateX(${p.innerWidth+i-t.left}px)`:r==="right"?n?`translateX(-${t.right-n.left-i}px)`:`translateX(-${t.left+t.width-i}px)`:r==="up"?n?`translateY(${n.bottom+d-t.top}px)`:`translateY(${p.innerHeight+d-t.top}px)`:n?`translateY(-${t.top-n.top+t.height-d}px)`:`translateY(-${t.top+t.height-d}px)`}function ne(r){return typeof r=="function"?r():r}function b(r,o,c){const t=ne(c),n=te(r,o,t);n&&(o.style.webkitTransform=n,o.style.transform=n)}const re=m.forwardRef(function(o,c){const t=D(),n={enter:t.transitions.easing.easeOut,exit:t.transitions.easing.sharp},p={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},{addEndListener:a,appear:i=!0,children:d,container:l,direction:f="down",easing:k=n,in:g,onEnter:T,onEntered:$,onEntering:B,onExit:S,onExited:I,onExiting:z,style:C,timeout:w=p,TransitionComponent:P=G}=o,X=H(o,ee),u=m.useRef(null),Y=U(d.ref,u,c),x=e=>s=>{e&&(s===void 0?e(u.current):e(u.current,s))},j=x((e,s)=>{b(f,e,l),Q(e),T&&T(e,s)}),q=x((e,s)=>{const _=V({timeout:w,style:C,easing:k},{mode:"enter"});e.style.webkitTransition=t.transitions.create("-webkit-transform",E({},_)),e.style.transition=t.transitions.create("transform",E({},_)),e.style.webkitTransform="none",e.style.transform="none",B&&B(e,s)}),W=x($),O=x(z),F=x(e=>{const s=V({timeout:w,style:C,easing:k},{mode:"exit"});e.style.webkitTransition=t.transitions.create("-webkit-transform",s),e.style.transition=t.transitions.create("transform",s),b(f,e,l),S&&S(e)}),N=x(e=>{e.style.webkitTransition="",e.style.transition="",I&&I(e)}),A=e=>{a&&a(u.current,e)},R=m.useCallback(()=>{u.current&&b(f,u.current,l)},[f,l]);return m.useEffect(()=>{if(g||f==="down"||f==="right")return;const e=K(()=>{u.current&&b(f,u.current,l)}),s=L(u.current);return s.addEventListener("resize",e),()=>{e.clear(),s.removeEventListener("resize",e)}},[f,g,l]),m.useEffect(()=>{g||R()},[g,R]),h(P,E({nodeRef:u,onEnter:j,onEntered:W,onEntering:q,onExit:F,onExited:N,onExiting:O,addEndListener:A,appear:i,in:g,timeout:w},X,{children:(e,s)=>m.cloneElement(d,E({ref:Y,style:E({visibility:e==="exited"&&!g?"hidden":void 0},C,d.props.style)},s))}))}),oe=re,ie=r=>{const{height:o="50%",open:c,onClose:t,isCloseIcon:n,children:p}=r,a=m.useRef(null);return m.useEffect(()=>{const i=d=>{a.current&&!a.current.contains(d.target)&&t()};return c&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[c,t]),v(J,{children:[c&&h(y,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:i=>i.zIndex.modal-1},onClick:t}),h(oe,{direction:"up",in:c,mountOnEnter:!0,unmountOnExit:!0,...r,children:v(y,{ref:a,sx:{borderRadius:"32px 32px 0px 0px",position:"fixed",bottom:0,left:0,right:0,height:o,backgroundColor:"background.paper",boxShadow:24,p:2,overflowY:"auto",zIndex:i=>i.zIndex.modal},children:[n&&h(y,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",pb:1},children:h(Z,{onClick:t,children:h(M,{})})}),h(y,{sx:{mt:2},children:p})]})})]})},he=ie;try{BaseBottomSheet.displayName="BaseBottomSheet",BaseBottomSheet.__docgenInfo={description:"",displayName:"BaseBottomSheet",props:{height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},isCloseIcon:{defaultValue:null,description:"",name:"isCloseIcon",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"A single child content element.",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}export{he as B};
